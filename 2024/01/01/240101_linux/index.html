<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="John Doe">







<title>linux 基础 | rainman 小站</title>



    <link rel="icon" href="/favicon.jpg">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    




    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>







  <meta name="generator" content="Hexo 7.1.1"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            回到主页
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/friends/">友链</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">归档</a>
              </li> 
                   
          
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/linux/">
                            linux
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                linux 基础
            
            
        </div>
        <span class="post-date">
            Jan 1, 2024
        </span>
    </div>
    <div class="post-img">
        
            <div class="h-line-primary"></div>
              
    </div>
</div>
    <div class="post-content">
    <p>在旧电脑上安装了 Ubuntu ，把 Windows 和其他文件一整个扬了的那种，有一种毁天灭地的美。</p>
<h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><p>windows 有盘符的概念，如C盘，D盘，E盘等等，但是 Linux 没有盘符的概念。</p>
<p>Linux 的目录结构：所有的目录都是从根目录<code>/</code>开始。</p>
<p><img src="https://bu.dusays.com/2024/01/03/65955a1662cc1.png" alt="60-1.png"></p>
<h2 id="cd、pwd、cat"><a href="#cd、pwd、cat" class="headerlink" title="cd、pwd、cat"></a>cd、pwd、cat</h2><p>查看命令的方式，可以使用 <code>man  命令</code>。</p>
<p><code>pwd</code>命令：print name of current/working directory, 打印当前目录的名字。</p>
<p><code>.</code>代表当前目录，<code>..</code>代表上一级目录。</p>
<p>回到上一次的目录 <code>cd -</code></p>
<p><code>cat</code>命令：concatenate files and print on the standard output, 查看文件内容。<br>对于读小文件而言，是没有问题的，但是当文件的内容非常多的时候，cat起不到应有的作用。</p>
<h2 id="useradd、userdel"><a href="#useradd、userdel" class="headerlink" title="useradd、userdel"></a>useradd、userdel</h2><p><strong><code>useradd</code>命令</strong>：create a new user or update default new user information, 添加用户的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd test3  //创建的用户属于三无产品，没有密码，在/home目录下面没有对应的文件夹，shell不一样</span><br><span class="line"></span><br><span class="line">sudo  useradd -m  test4  -s /bin/bash  //-m指定了在/home目录创建对应文件夹 -s指定shell类型</span><br><span class="line"></span><br><span class="line">//给test4创建密码</span><br><span class="line">sudo passwd test4</span><br><span class="line"></span><br><span class="line">//账号切换的命令</span><br><span class="line">su  test4  #su + 账号名字</span><br><span class="line"></span><br><span class="line">用户切换的时候，展现出来的就是一个栈结构，先进后出。</span><br></pre></td></tr></table></figure>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/ibk055Ku4LIBxz" alt="60-2"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">wangdao@wangdao:~$ cat /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">.....</span><br><span class="line">gdm:x:121:125:Gnome Display Manager:/var/lib/gdm3:/bin/false</span><br><span class="line">wangdao:x:1000:1000:wangdao,,,:/home/wangdao:/bin/bash</span><br><span class="line">sshd:x:122:65534::/run/sshd:/usr/sbin/nologin</span><br><span class="line">mysql:x:123:127:MySQL Server,,,:/nonexistent:/bin/false</span><br><span class="line">test:x:1001:1001::/home/test:/bin/bash</span><br><span class="line">test2:x:1002:1002::/home/test2:/bin/sh</span><br><span class="line">test3:x:1003:1003::/home/test3:/bin/sh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wangdao:x:1000:1000:wangdao,,,:/home/wangdao:/bin/bash</span><br><span class="line">test3:x:1003:1003::/home/test3:/bin/sh</span><br><span class="line"></span><br><span class="line">冒号是分隔符</span><br><span class="line">用户名  密码（x替代）  uid（用户id） gid（group id，组id）  用户对应的绝对路径  shell类型</span><br><span class="line">0  root    用户</span><br><span class="line">1~1000     系统用户</span><br><span class="line">1000之后    普通用户</span><br></pre></td></tr></table></figure>
<p><strong>注意：为了保证系统的安全性，不允许root用户直接进行登录。（root用户都是有的，因此知道账号）</strong></p>
<p><code>userdel</code>命令：delete a user account and related files, 删除用户以及用户所对应的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//-r选项可以删除用户以及用户对应的在/home下的文件夹，如果不加-r,就只会在/etc/passwd下面删除账号，不会删除/home的文件夹</span><br><span class="line">wangdao@wangdao:~$ sudo userdel test5 -r</span><br><span class="line">userdel: test5 mail spool (/var/mail/test5) not found</span><br></pre></td></tr></table></figure>
<h2 id="目录的创建与删除、tree"><a href="#目录的创建与删除、tree" class="headerlink" title="目录的创建与删除、tree"></a>目录的创建与删除、tree</h2><p><code>mkdir</code>命令：make directories, 创建文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir 20221230   //创建目录</span><br><span class="line">mkdir -p dir3/dir4/dir5 //创建多级目录可以加上-p,或者可以一级一级的创建</span><br></pre></td></tr></table></figure>
<p><code>rmdir</code>命令：remove empty directories, 删除空目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//如果目录不是空的，可以先进到内层目录，然后一级一级空目录的进行删除</span><br><span class="line">rmdir  dir1  //是空目录就可以直接删除</span><br><span class="line">rmdir dir1  //如果dir1里面还有目录就需要先进去，在一级一级删除</span><br></pre></td></tr></table></figure>
<p><code>tree</code>命令：打印目录的结构（安装与使用）：</p>
<p><img src="https://bu.dusays.com/2024/01/04/6596b357ca76a.png" alt="60-3.png"></p>
<h2 id="文件的创建"><a href="#文件的创建" class="headerlink" title="文件的创建"></a>文件的创建</h2><p>文件的创建命令：<code>touch</code>、<code>echo</code>、<code>cat</code>、<code>vi</code>/<code>vim</code></p>
<p><code>touch</code>：change file timestamps 改变时间戳（1970.1.1 0:0:0） ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch file   //可以创建空文件</span><br></pre></td></tr></table></figure>
<p><code>echo</code>: display a line of text 回音命令</p>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/MNXtX4NQmRpA6b" alt="60-4"></p>
<p>创建空文件：</p>
<p><img src="https://bu.dusays.com/2024/01/04/6596b7e12daa9.png" alt="60-5.png"></p>
<p><code>cat</code>：使用 ctrl+d 进行正常退出，ctrl+c 异常退出（中断）。</p>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/DBuJtpAiIH_Dfz" alt="60-6"></p>
<p><code>vi</code>/<code>vim</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim file4  //执行以下步骤，键盘左上角Esc，再按shift + :,再输入wq，再按enter</span><br></pre></td></tr></table></figure>
<h2 id="文件内容的查看"><a href="#文件内容的查看" class="headerlink" title="文件内容的查看"></a>文件内容的查看</h2><p><code>cat</code>、<code>head</code>、<code>tail</code>、<code>more</code>、<code>less</code></p>
<ul>
<li>head - output the first part of files 查看文件的前面一部分内容</li>
<li>tail - output the last part of files 查看文件的尾部内容</li>
<li>more - file perusal filter for crt viewing 查看文件里面的内容，可以一行行的查阅。</li>
<li>less - opposite of more</li>
</ul>
<h2 id="文件的拷贝、移动、删除"><a href="#文件的拷贝、移动、删除" class="headerlink" title="文件的拷贝、移动、删除"></a>文件的拷贝、移动、删除</h2><p><code>cp</code> - copy files and directories 拷贝文件或者文件夹（目录）</p>
<p>普通文件的拷贝：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cp  srcFile  destFile  //cp  源文件   目的文件</span><br><span class="line">cp file1  file2   </span><br><span class="line"></span><br><span class="line">//源文件与目的文件都存在的时候，最好加上-i选项，</span><br><span class="line">//可以进行提示，以免误操作（安全性的问题）</span><br><span class="line">cp -i file1  file2</span><br></pre></td></tr></table></figure>
<p>普通文件拷贝给目录文件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp  file  dir</span><br><span class="line"></span><br><span class="line">如果dir中有file文件，就会直接覆盖；</span><br><span class="line">如果dir中没有file文件，就会创建一个file文件；</span><br><span class="line">如果dir中的file与源文件file的内容不一样，最好还是继续加上-i选项。</span><br></pre></td></tr></table></figure>
<p>目录拷贝给目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp  -r  dir1  dir2  // -r 表明这个拷贝过程是递归的</span><br></pre></td></tr></table></figure>
<p><code>mv</code> - move (rename) files</p>
<p>可以移动普通文件，也可以移动目录文件。<br>“文件”是泛指。在 Linux 中，一切皆文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv  源文件  目的文件   </span><br><span class="line">// mv进行移动的时候，源文件会被删除</span><br><span class="line">// mv也有常用的 -i -f 选项</span><br></pre></td></tr></table></figure>
<p><code>rm</code> - remove files or directories</p>
<p>删除普通文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm  file</span><br></pre></td></tr></table></figure>
<p>删除目录文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm  -fr dir</span><br><span class="line">//-f 是强制的意思，-r 是递归的意思</span><br></pre></td></tr></table></figure>
<p>删除所有的文件（普通文件、目录文件）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -fr  *</span><br><span class="line">//*星号是一个通配符，代表的是所有类型的文件，包括普通文件、目录文件</span><br></pre></td></tr></table></figure>
<p><strong>注意：<code>rm</code>命令在使用的时候，最好加上<code>-i</code>，可以起提示作用。</strong></p>
<h2 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h2><p><code>-a</code>选项，显示文件夹下面的所有文件，包括隐藏文件。在 Linux 中，以<code>.</code>开头的文件是隐藏文件。</p>
<p><code>-l</code>选项，显示文件夹下的文件的具体信息。</p>
<p><code>-h</code>选项，将文件大小换算成人类可读的。</p>
<p><img src="https://bu.dusays.com/2024/01/05/6596f0ef830c7.png" alt="60-7.png"></p>
<p><code>-i</code>选项，将文件对应的结点号展示出来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">drwxrwxr-x 3 wangdao wangdao 4.0K 12月 31 10:58 .</span><br><span class="line">drwxrwxr-x 4 wangdao wangdao 4.0K 12月 30 21:13 ..</span><br><span class="line">drwxrwxr-x 2 wangdao wangdao 4.0K 12月 31 10:54 dir1</span><br><span class="line">-rw-rw-r-- 1 wangdao wangdao   12 12月 31 09:00 file</span><br><span class="line">-rw-rw-r-- 1 wangdao wangdao   12 12月 31 11:05 file2</span><br><span class="line">-rw-rw-r-- 1 wangdao wangdao    0 12月 31 10:58 .file3</span><br><span class="line">-rw-rw-r-- 1 wangdao wangdao 4.2M 12月 30 21:17 The_Holy_Bible.txt</span><br><span class="line"></span><br><span class="line">/*----------------------</span><br><span class="line">d rwx rwx r-x</span><br><span class="line">- rw- rw- r--</span><br><span class="line">第一列代表的是文件类型  d目录文件  -普通文件 等等</span><br><span class="line">r  读</span><br><span class="line">w  写</span><br><span class="line">x  可执行</span><br><span class="line">本用户   组用户   其他用户</span><br><span class="line">-----------------------*/</span><br></pre></td></tr></table></figure>
<h2 id="硬链接与软链接"><a href="#硬链接与软链接" class="headerlink" title="硬链接与软链接"></a>硬链接与软链接</h2><p><code>ln</code> - make links between files</p>
<p>硬链接的创建：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln  源文件   目的文件</span><br><span class="line">//源文件是已经存在的文件，目的文件是新创建的</span><br></pre></td></tr></table></figure>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/y_eIKVhcPZco3N" alt="60-8" title="注意file和file5的 inode 号"></p>
<p>创建硬链接之后，相当于多创建了一个指向文件的指针。硬链接文件的 inode 号是一样的。修改任何一个文件，都会导致文件的内容发生改变。</p>
<p>软链接的创建：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s  源文件  目的文件</span><br></pre></td></tr></table></figure>
<p>创建软链接之后，相当于对源文件创建了一个快捷方式，源文件与目的文件 inode 号不一样。删除源文件则快捷方式会失效，但删除软链接文件，源文件不受影响。</p>
<h2 id="chmod、umask"><a href="#chmod、umask" class="headerlink" title="chmod、umask"></a>chmod、umask</h2><p><code>chmod</code> - change file mode bits 改变文件的访问权限</p>
<p><img src="https://bu.dusays.com/2024/01/05/6597b7259ebac.png" alt="60-9.png"></p>
<p>文字设定法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">u代表本用户   g代表组用户  o代表其他用户  a代表所有用户</span><br><span class="line">权限：r读权限   w写权限  x执行权限  -代表没有权限</span><br><span class="line">权限的增删  +代表增加权限   -代表去掉权限  =代表赋予某种权限</span><br><span class="line">chmod  u=r,g+r,o=x file7</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/1eiYdFfQ0lFSfW" alt="60-10"></p>
<p>数字设定法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 以下为注释</span><br><span class="line">rwx rwx r-x</span><br><span class="line">111 111 101</span><br><span class="line">7   7   5</span><br><span class="line">2^2 + 2^1 + 2^0 = 7</span><br><span class="line">r = 4</span><br><span class="line">w = 2</span><br><span class="line">x = 1</span><br><span class="line">- = 0</span><br><span class="line">普通文件的权限一般就是664 rw-rw-r--</span><br></pre></td></tr></table></figure>
<p>用法示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[asdf@www.masswerk.at:2]$ pwd</span><br><span class="line">/home/asdf</span><br><span class="line">[asdf@www.masswerk.at:2]$ echo &quot;hello&quot; &gt; file1</span><br><span class="line">[asdf@www.masswerk.at:2]$ ls</span><br><span class="line">file1</span><br><span class="line">[asdf@www.masswerk.at:2]$ cat file1</span><br><span class="line">hello</span><br><span class="line">[asdf@www.masswerk.at:2]$ ll file1</span><br><span class="line">-rw-r-----  1  asdf      users            5  2024/01/05 23:12:07  file1</span><br><span class="line">[asdf@www.masswerk.at:2]$ chmod 775 file1</span><br><span class="line">[asdf@www.masswerk.at:2]$ ll file1</span><br><span class="line">-rwxrwxr-x  1  asdf      users            5  2024/01/05 23:12:07  file1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>以下关于 umask 的内容转载自 <a target="_blank" rel="noopener" href="https://www.coorw.com/3210.html">https://www.coorw.com/3210.html</a></p>
</blockquote>
<p>在 linux 系统中，我们创建一个新的文件或者目录的时候，这些新的文件或目录都会有默认的访问权限，umask命令与文件和目录的默认访问权限有关。</p>
<p><code>umask</code>为 Shell 内建命令，用于设置创建文件时的权限掩码。权限掩码由 3 个八进制数字组成，将 777（八进制）减掉权限掩码后，即可得到新建文件的默认权限。</p>
<p>命令格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umask [-p] [-S] [MODE]</span><br></pre></td></tr></table></figure>
<p>后不跟任何选项与参数单独执行 <code>umask</code>，则以八进制格式显示当前权限掩码。</p>
<p>选项说明：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-p [MODE]</span><br><span class="line">// 以八进制数字形式显示或设置权限掩码。</span><br><span class="line">// 当 MODE 没有提供时，显示当前权限掩码，为默认选项</span><br><span class="line"></span><br><span class="line">-S [MODE]</span><br><span class="line">// 以字符形式显示或设置新建文件的默认权限。</span><br></pre></td></tr></table></figure>
<p><strong>注意：出于安全的考虑，文件的执行权限不能通过权限掩码来设置，必须手工修改。</strong></p>
<p>常用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 设置权限掩码并查看</span><br><span class="line"></span><br><span class="line">#设置权限掩码</span><br><span class="line">umask 044</span><br><span class="line"></span><br><span class="line">#查看权限掩码</span><br><span class="line">umask</span><br><span class="line">044</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 以字符形式显示新建文件的默认权限</span><br><span class="line"></span><br><span class="line">umask -S</span><br><span class="line">u=rwx,g=rx,o=rx</span><br></pre></td></tr></table></figure>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p><code>find</code>命令：查找文件。</p>
<p><img src="https://bu.dusays.com/2024/01/06/65982ed6a564e.png" alt="60-11.png"></p>
<p>按照名字进行查找：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">find  路径（绝对路径或相对路径） -name  &quot;文件名字&quot;</span><br><span class="line"></span><br><span class="line">文件名字可以使用通配符</span><br><span class="line">* 代表任意个字符</span><br><span class="line">? 代表任意一个字符</span><br><span class="line">[] 代表一个范围，中括号是数字或字母，也可结合使用</span><br></pre></td></tr></table></figure>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/gly_CGKT07Ma7-" alt="60-12"></p>
<h2 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h2><p>重定向输入<code>&lt;</code>，就是 stdin<br>重定向输出<code>&gt;</code>或<code>1&gt;</code>，就是 stdout<br>重定向的错误输出<code>2&gt;</code>，就是 stderr</p>
<p><img src="https://bu.dusays.com/2024/01/06/65983aa216bc8.png" alt="60-13.png"></p>
<p><strong>linux 一切皆文件</strong><br>文件句柄（门把手）<br>文件描述符 fd<br>可以将文件描述符看成是操作文件的指针</p>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/0X3oMLu-e6tnRi" alt="60-14"></p>
<p>追加模式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;</span><br><span class="line">标准输出的追加，在原有基础上继续追加。</span><br><span class="line">示例：</span><br><span class="line">echo &quot;Fischl&quot; &gt;&gt; file1</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2&gt;&gt;</span><br><span class="line">标准错误的追加</span><br></pre></td></tr></table></figure>
<p>例外：</p>
<p><img src="https://bu.dusays.com/2024/01/06/65984077834f3.png" alt="60-15.png"></p>
<h2 id="grep、正则表达式"><a href="#grep、正则表达式" class="headerlink" title="grep、正则表达式"></a>grep、正则表达式</h2><p>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wanko@wanko:~$ cat file1</span><br><span class="line">spider223man</span><br><span class="line">batman</span><br><span class="line">wanko@wanko:~$ cat file2</span><br><span class="line">super223man</span><br><span class="line">spider223man</span><br><span class="line">wanko@wanko:~$ grep -rn &quot;spider223man&quot; .</span><br><span class="line">./file2:2:spider223man</span><br><span class="line">./file1:1:spider223man</span><br></pre></td></tr></table></figure>
<p><code>-r</code>递归；<code>-n</code>显示行号。</p>
<p>正则表达式：</p>
<p><img src="https://bu.dusays.com/2024/01/07/659ab5e3bba37.png" alt="60-16.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">wanko@wanko:~$ cat filetst</span><br><span class="line">grep</span><br><span class="line">Grep</span><br><span class="line">sleep</span><br><span class="line">how</span><br><span class="line">what</span><br><span class="line">how are you</span><br><span class="line"></span><br><span class="line">wanko@wanko:~$ grep -nE &quot;e&quot; filetst</span><br><span class="line">1:grep</span><br><span class="line">2:Grep</span><br><span class="line">3:sleep</span><br><span class="line">6:how are you</span><br><span class="line"></span><br><span class="line">wanko@wanko:~$ grep -nE &quot;ee&quot; filetst</span><br><span class="line">3:sleep</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wanko@wanko:~$ grep -nE &quot;e*&quot; filetst</span><br><span class="line">1:grep</span><br><span class="line">2:Grep</span><br><span class="line">3:sleep</span><br><span class="line">4:how</span><br><span class="line">5:what</span><br><span class="line">6:how are you</span><br><span class="line"></span><br><span class="line">wanko@wanko:~$ grep -nE &quot;ee*&quot; filetst</span><br><span class="line">1:grep</span><br><span class="line">2:Grep</span><br><span class="line">3:sleep</span><br><span class="line">6:how are you</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wanko@wanko:~$ grep -nE &quot;^s&quot; filetst</span><br><span class="line">3:sleep</span><br><span class="line">wanko@wanko:~$ grep -nE &quot;t$&quot; filetst</span><br><span class="line">5:what</span><br></pre></td></tr></table></figure>
<p><img src="https://sway.cloud.microsoft/s/jSZcrgReU4mecpIB/images/VxkAMR9Wc3msK0" alt="60-17"></p>
<h2 id="vim-的使用"><a href="#vim-的使用" class="headerlink" title="vim 的使用"></a>vim 的使用</h2><blockquote>
<p>参考： <a target="_blank" rel="noopener" href="https://oi-wiki.org/tools/editor/vim/">https://oi-wiki.org/tools/editor/vim/</a></p>
</blockquote>
<h3 id="插入模式-insert"><a href="#插入模式-insert" class="headerlink" title="插入模式 (insert)"></a>插入模式 (insert)</h3><p>从普通模式进到编辑模式：</p>
<ul>
<li>小写<code>i</code>，光标前插入</li>
<li>小写<code>a</code>，光标后插入</li>
<li>大写<code>I</code>，行首插入</li>
<li>大写<code>A</code>，行尾插入</li>
<li>小写<code>o</code>，下一行插入</li>
<li>大写<code>O</code>，上一行插入</li>
</ul>
<h3 id="普通模式-normal"><a href="#普通模式-normal" class="headerlink" title="普通模式 (normal)"></a>普通模式 (normal)</h3><p><code>u</code>是撤销的快捷键，作用是撤销上一次对文本的更改。</p>
<p><code>x</code>用于删除光标后的一个字符。</p>
<p><code>dd</code>删除一行。</p>
<p><code>gg</code>跳转到文本首行。</p>
<p><code>G</code>跳转到文本尾行。</p>
<p><code>$</code>移动到行尾，<code>^</code>移动到行首。</p>
<p><code>yy</code>+<code>p</code>：<code>yy</code>复制光标当前所在行，<code>p</code>将内容粘贴到光标的下一行去。</p>
<p><code>6</code>+<code>G</code>，跳转到第 6 行。</p>
<p><code>3</code>+<code>j</code>，向下移动 3 行。</p>
<p><code>ndG</code>：（<code>n</code>是数字）删除第n行到当前行的内容，左闭右闭。</p>
<h3 id="命令行模式"><a href="#命令行模式" class="headerlink" title="命令行模式"></a>命令行模式</h3><p><code>/待查单词</code>：<code>n</code>下一个，<code>N</code>上一个。</p>
<p><code>set nu</code>：显示行号。</p>
<p><code>s/待查找项/替换项</code>：默认单行第一个匹配项。</p>
<p><code>s/待查找项/替换项/g</code>：替换一行里所有的匹配项。</p>
<p><code>num1,num2s/待查找项/替换项/g</code>：将num1到num2（包含）行的匹配项进行替换。</p>
<ul>
<li>例子：<code>2,4s/and/kkk/g</code></li>
</ul>
<p><code>%s/待查找项/替换项/g</code>：全文替换。</p>
<h3 id="可视模式-visual"><a href="#可视模式-visual" class="headerlink" title="可视模式 (visual)"></a>可视模式 (visual)</h3><p>按<code>v</code>进入可视模式，多用于选中区域。按 <code>V</code>进入行可视模式，用于选中行。</p>
<p>按<code>Ctrl</code>+<code>v</code> 或 <code>Ctrl</code>+<code>q</code>进入块可视模式 (visual block)。</p>
<p>进入块可视模式后，按<code>I</code>或<code>A</code>进入插入模式（相当于 i 和 a），退出插入模式后对本行所做的改动将被应用到选中的每一行同一位置。常用于批量添加注释。</p>
<h3 id="安装-vimplus"><a href="#安装-vimplus" class="headerlink" title="安装 vimplus"></a>安装 vimplus</h3><p>没什么好说的： <a target="_blank" rel="noopener" href="https://github.com/chxuan/vimplus">https://github.com/chxuan/vimplus</a></p>
<p>字体下载链接： <a target="_blank" rel="noopener" href="https://www.nerdfonts.com/font-downloads">https://www.nerdfonts.com/font-downloads</a></p>
<p>感觉不咋地，最后还是卸了。</p>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2023/12/09/231209_math/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

     

     
    
    

</div>
     
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
                ©2022 - 2024 By rainman | 
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/zoeingwingkei/frame/">Frame</a>
                
        </div>
    </div>
</div>

    </div>

    
    

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="//cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
